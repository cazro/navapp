/*! navapp 2017-01-15 */
angular.module("navApp").controller("NavControl",["$scope","$sce","$sanitize","sockFactory",function(a,b,c,d){function e(){d.emit("getNextSlide",{})}function f(b){a.header=b.kiosk.name,a.seconds=b.kiosk.seconds,a.currentSlide=b.slide.data,a.slideHtml=function(a){return"url"===a.sourceType?'<iframe ng-src="{{slideData.source}}"></iframe>':"folder"===a.sourceType||"reddit"===a.sourceType?'<div class="slideImage" style="background-image:'+a.source+'"></div>':void 0}}var g=["HUR","TOR","TOW","WRN","SEW","WIN","FLO","WAT","SVR","SPE","HWW"],h=!1;a.header="",a.seconds=60,a.currentSlide={},a.alert="",a.alerts={},d.on("init",function(b){f(b),a.slideInterval=setInterval(e,a.seconds)}),d.on("alert",function(b){a.alerts=b;for(var c in b.alerts){a.alert+=(c>0?", ":"")+b.alerts[c].description;var d=b.alerts[c].type;g.indexOf(d)!==-1&&(h=!0)}}),d.on("nextSlide",function(a){f(a)}),d.on("prevSlide",function(a){f(a)})}]),angular.module("navApp").factory("sockFactory",function(a){var b=io.connect();return{on:function(c,d){b.on(c,function(){var c=arguments;a.$apply(function(){d&&d.apply(b,c)})})},emit:function(c,d,e){b.emit(c,d,function(){var c=arguments;a.$apply(function(){e&&e.apply(b,c)})})}}}),angular.module("navApp",["ngMessages","ngResource","ngSanitize"]);